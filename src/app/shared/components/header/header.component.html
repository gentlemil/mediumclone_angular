<ng-container *ngIf="data$ | async as data">
  <header
    class="block w-full bg-white px-5 py-2 sm:flex sm:items-center sm:justify-between"
  >
    <div class="flex justify-between sm:block">
      <a class="block text-2xl font-bold text-black">
        <img
          class="w-10 cursor-pointer"
          src="https://cdn-icons-png.flaticon.com/512/5968/5968204.png"
          alt="..."
        />
      </a>

      <button class="block bg-transparent sm:hidden">
        <input class="invisible appearance-none" type="checkbox" id="toggle" />

        <label for="toggle">
          <svg
            id="menu-icon"
            class="cursor-pointer inline-block text-black"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            style="fill: rgb(34, 31, 31); transform: ; msfilter: "
          >
            <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"></path>
          </svg>

          <svg
            id="close-icon"
            class="hidden cursor-pointer text-black"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            style="fill: rgb(32, 31, 31); transform: ; msfilter: "
          >
            <path
              d="m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"
            ></path>
          </svg>
        </label>
      </button>
    </div>

    <ul
      #linksDiv
      id="navigation"
      style="--menu-height: {{ linksDiv.children.length * 2.5 }}rem"
      class="flex h-0 flex-col items-center gap-4 overflow-hidden transition-all duration-500 ease-in-out sm:h-auto sm:flex-row sm:overflow-auto"
    >
      <li>
        <a
          class="hover:text-gray-500"
          routerLink="/"
          routerLinkActive="router-link-active"
          >Home</a
        >
      </li>

      <ng-container *ngIf="data.currentUser">
        <li>
          <a
            class="hover:text-gray-500"
            routerLink="/articles/new"
            routerLinkActive="router-link-active"
            >New post</a
          >
        </li>
        <li>
          <a
            class="hover:text-gray-500"
            routerLink="/settings"
            routerLinkActive="router-link-active"
            >Settings</a
          >
        </li>
        <li>
          <a
            class="hover:text-gray-500"
            [routerLink]="['/settings', data.currentUser.username]"
            routerLinkActive="router-link-active"
            >{{ data.currentUser.username }}</a
          >
        </li>
      </ng-container>

      <ng-container *ngIf="data.currentUser === null">
        <li>
          <a
            routerLink="/login"
            class="bg-[#a6c1ee] text-white text-xs px-4 py-1.5 rounded-full hover:bg-[#87acec]"
          >
            Sign in
          </a>
        </li>
        <li>
          <a
            routerLink="/register"
            class="bg-[#a6c1ee] text-white text-xs px-4 py-1.5 rounded-full hover:bg-[#87acec]"
          >
            Sing up
          </a>
        </li>
      </ng-container>
    </ul>
  </header>
</ng-container>
